## 4장 정리

### 생성자가 필요한 이유

객체를 생성하는 시점에 어떤 작업을 하고 싶다면 생성자(Constructor)를 이용하면 된다. (초기값 지정 등...)

### this

멤버 변수와 메서드의 매개변수의 이름이 같으면 둘을 어떻게 구분해야 할까?

- 이 경우 멤버 변수보다 매개변수가 코드 블럭의 더 안쪽에 있기 때문에 매개변수가 우선순위를 가진다. 따라서 `initMember(String name,...)` 메서드 안에서 `name` 이라고 적으면 매개변수에 접근하게 된다.
- 멤버 변수에 접근하려면 앞에 `this.` 이라고 해주면 된다. 여기서 `this` 는 인스턴스 자신의 참조값을 가리킨다.
- `this` 는 생략할 수 있다. 
  - 이 경우 변수를 찾을 때 가까운 지역변수(매개변수도 지역변수다)를 먼저 찾고 없으면 그 다음으로 멤버 변수를 찾는다. 멤버 변수도 없으면 오류가 발생한다.


### 생성자 호출

생성자는 인스턴스를 생성하고 나서 즉시 호출된다. 생성자를 호출하려면 `new` 명령어 다음에 생성자 이름과 매개변수에 맞추어 인수를 전달하면 된다. 

```java
new 생성자이름(...)
new 클래스이름(...) 
```
참고로 생성자 이름이 클래스 이름이기 때문에 둘다 맞는 표현이다.

```java
new MemberConstruct("user1", 15, 90) 
```
이렇게 하면 인스턴스를 생성하고 즉시 해당 생성자를 호출한다. 여기서는 `Member` 인스턴스를 생성하고 바로 `MemberConstruct(String name, int age, int grade)` 생성자를 호출한다.

참고로 new 키워드를 사용해서 객체를 생성할 때 마지막에 괄호 () 도 포함해야 하는 이유가 바로 생성자 때문이다. 객체를 생성하면서 동시에 생성자를 호출한다는 의미를 포함한다.

### 생성자 장점

1. 중복 호출 제거
   - 생성자가 없던 시절에는 생성 직후에 어떤 작업을 수행하기 위해 다음과 같이 메서드를 직접 한번 더 호출해야 했다. 
   - 생성자 덕분에 객체를 생성하면서 동시에 생성 직후에 필요한 작업을 한번에 처리할 수 있게 되었다.
2. 제약 - 생성자 호출 필수
   - 객체를 생성할 때 직접 정의한 생성자가 있다면 직접 정의한 생성자를 반드시 호출해야 한다. 
   - 참고로 생성자를 메서드 오버로딩 처럼 여러개 정의할 수 있는데, 이 경우에는 하나만 호출하면 된다.
   - **생성자를 사용하면 필수값 입력을 보장할 수 있다**


### 기본 생성자
- 매개변수가 없는 생성자를 기본 생성자라 한다.
- 클래스에 생성자가 하나도 없으면 자바 컴파일러는 매개변수가 없고, 작동하는 코드가 없는 기본 생성자를 자동으로 만들어준다.
- 생성자가 하나라도 있으면 자바는 기본 생성자를 만들지 않는다.


### 생성자 정리
- 생성자는 반드시 호출되어야 한다.
- 생성자가 없으면 기본 생성자가 제공된다.
- 생성자가 하나라도 있으면 기본 생성자가 제공되지 않는다. 이 경우 개발자가 정의한 생성자를 직접 호출해야 한다.


### 생성자 오버로딩

- 생성자도 메서드 오버로딩처럼 매개변수만 다르게 해서 여러 생성자를 제공할 수 있다.
- `this()`를 사용하면 생성자 내부에서 자신의 생성자를 호출할 수 있다. 
  - 참고로 `this` 는 인스턴스 자신의 참조값을 가리킨다. 그래서 자신의 생성자를 호출한다고 생각하면 된다.
  - this() 는 생성자 코드의 첫줄에만 작성할 수 있다.
  - this() 가 생성자 코드의 첫줄에 사용되지 않으면 오류가 발생한다. 
    ```java
    public MemberConstruct(String name, int age) {
    System.out.println("go");
    this(name, age, 50); // 컴파일 오류 발생
    }
    ```
    